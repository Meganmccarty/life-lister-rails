(this["webpackJsonplifelist-app-react"]=this["webpackJsonplifelist-app-react"]||[]).push([[0],{31:function(e,t,c){},32:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(14),s=c.n(a),i=c(4),r=c(2),o=c(3),l=c.p+"static/media/loading.42aaa181.gif",j=c(0);var d=function(e){var t=e.user,c=e.onLogout,n=Object(o.g)();return Object(j.jsxs)("nav",{role:"navigation",children:[Object(j.jsx)("div",{children:Object(j.jsx)(i.b,{className:"logo",to:"/",children:"Life-Lister"})}),Object(j.jsx)("div",{children:t?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("span",{children:["Welcome, ",t.username,"!"]}),Object(j.jsx)(i.b,{to:"/profile",children:"Profile"}),Object(j.jsx)("button",{onClick:function(){fetch("/logout",{method:"DELETE"}).then((function(){c(),n.push("/login")}))},children:"Logout"})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(i.b,{to:"/login",children:"Login"}),Object(j.jsx)(i.b,{to:"/signup",children:"Signup"})]})})]})},b=c.p+"static/media/example-life-list.5216226c.png",h=c.p+"static/media/taxon-form.98a82e89.png",u=c.p+"static/media/filter.764ccc90.png",O=c.p+"static/media/filtered-list.d2d93be4.png",p=c.p+"static/media/record-before-edit.5346f84a.png",x=c.p+"static/media/record-during-edit.d983e622.png",m=c.p+"static/media/record-after-edit.3dc18dcb.png",g=c.p+"static/media/make-public.1c71e660.png",f=c.p+"static/media/share-life-list.6e4472e2.png",v=c.p+"static/media/link-copied.c636e010.png",y=c.p+"static/media/example-shared-life-list.5838ca53.png";var N=function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{children:"Life-Lister: Track the Organisms You've Seen"}),Object(j.jsx)("img",{className:"home-image",src:b,alt:"Example Life List"}),Object(j.jsx)("h1",{children:"Add a Species Using a Simple Form"}),Object(j.jsx)("img",{className:"home-image",src:h,alt:"Taxon Form"}),Object(j.jsx)("caption",{children:"Add a taxon using either a common or scientific name!"}),Object(j.jsx)("h1",{children:"Filter Your Life List by Organism Type and Date Seen"}),Object(j.jsx)("img",{className:"home-image",src:u,alt:"Life List Filter"}),Object(j.jsx)("img",{className:"home-image",src:O,alt:"Filtered List"}),Object(j.jsx)("h1",{children:"Editing Your Life List Records is a Breeze!"}),Object(j.jsxs)("div",{className:"image-group",children:[Object(j.jsx)("img",{className:"home-image",src:p,alt:"Record in Need of Edit"}),Object(j.jsx)("img",{className:"home-image",src:x,alt:"Editing Record"}),Object(j.jsx)("img",{className:"home-image",src:m,alt:"Edited Record Saved"})]}),Object(j.jsx)("h1",{children:"Share Your Life List with Your Fellow Naturalists!"}),Object(j.jsxs)("div",{className:"image-group",children:[Object(j.jsx)("img",{className:"home-image",src:g,alt:"Make Your Profile Public"}),Object(j.jsx)("img",{className:"home-image",src:f,alt:"Clicking the 'Share Life List' Button"}),Object(j.jsx)("img",{className:"home-image",src:v,alt:"Your Profile Link is Copied to the Clipboard!"})]}),Object(j.jsx)("img",{className:"home-image",src:y,alt:"Example Shared Life List"}),Object(j.jsx)("h1",{children:"Want to Start Your Life List?"}),Object(j.jsx)("button",{id:"home-signup",children:Object(j.jsx)(i.b,{to:"/signup",children:"Create a Free Account!"})}),Object(j.jsx)("br",{})]})};var S=function(e){var t=e.onLogin,c=Object(o.g)(),a=Object(n.useState)(""),s=Object(r.a)(a,2),i=s[0],l=s[1],d=Object(n.useState)(""),b=Object(r.a)(d,2),h=b[0],u=b[1],O=Object(n.useState)(""),p=Object(r.a)(O,2),x=p[0],m=p[1];return Object(j.jsxs)("div",{className:"auth-form",children:[Object(j.jsx)("div",{className:"auth-form-header",children:Object(j.jsx)("h1",{children:"Log In"})}),Object(j.jsx)("div",{className:"auth-form-body",children:Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),m("");var n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:i,password:h})};fetch("/login",n).then((function(e){e.ok?e.json().then((function(e){t(e),l(""),u(""),c.push("/profile")})):e.json().then((function(e){console.log(e.errors),m(e.errors)}))}))},children:[x?Object(j.jsx)("div",{className:"errors",children:x}):null,Object(j.jsx)("label",{htmlFor:"username",className:"visuallyhidden"}),Object(j.jsx)("input",{type:"text",id:"username",placeholder:"Username",value:i,onChange:function(e){return l(e.target.value)}}),Object(j.jsx)("label",{htmlFor:"password",className:"visuallyhidden"}),Object(j.jsx)("input",{type:"password",id:"password",placeholder:"Password",value:h,onChange:function(e){return u(e.target.value)}}),Object(j.jsx)("button",{type:"submit",children:"Login"})]})})]})};var C=function(e){var t=e.onLogin,c=Object(n.useState)(""),a=Object(r.a)(c,2),s=a[0],i=a[1],l=Object(n.useState)(""),d=Object(r.a)(l,2),b=d[0],h=d[1],u=Object(n.useState)(""),O=Object(r.a)(u,2),p=O[0],x=O[1],m=Object(n.useState)(""),g=Object(r.a)(m,2),f=g[0],v=g[1],y=Object(o.g)();return console.log(f),Object(j.jsxs)("div",{className:"auth-form",children:[Object(j.jsx)("div",{className:"auth-form-header",children:Object(j.jsx)("h1",{children:"Create an Account"})}),Object(j.jsx)("div",{className:"auth-form-body",children:Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),v("");var c={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:s,password:b,password_confirmation:p})};fetch("/signup",c).then((function(e){e.ok?e.json().then((function(e){t(e),i(""),h(""),x(""),y.push("/profile")})):e.json().then((function(e){console.log(e.errors),v(e.errors.join("; "))}))}))},children:[f?Object(j.jsx)("div",{className:"errors",children:f}):null,Object(j.jsx)("label",{htmlFor:"username",className:"visuallyhidden"}),Object(j.jsx)("input",{type:"text",id:"username",placeholder:"Username",value:s,onChange:function(e){return i(e.target.value)}}),Object(j.jsx)("label",{htmlFor:"password",className:"visuallyhidden"}),Object(j.jsx)("input",{type:"password",id:"password",placeholder:"Password",value:b,onChange:function(e){return h(e.target.value)}}),Object(j.jsx)("label",{htmlFor:"confirm-password",className:"visuallyhidden"}),Object(j.jsx)("input",{type:"password",id:"confirm-password",placeholder:"Confirm Password",value:p,onChange:function(e){return x(e.target.value)}}),Object(j.jsx)("button",{type:"submit",children:"Signup"})]})})]})},F=c(17);var k=function(e){var t=e.addRecord,c=Object(n.useState)(""),a=Object(r.a)(c,2),s=a[0],i=a[1],o=Object(n.useState)("-Choose Category-"),l=Object(r.a)(o,2),d=l[0],b=l[1],h=Object(n.useState)(""),u=Object(r.a)(h,2),O=u[0],p=u[1],x=Object(n.useState)(""),m=Object(r.a)(x,2),g=m[0],f=m[1],v=Object(n.useState)(""),y=Object(r.a)(v,2),N=y[0],S=y[1];return console.log(d),Object(j.jsxs)("div",{className:"taxon-form",children:[Object(j.jsx)("div",{className:"taxon-form-header",children:Object(j.jsx)("h2",{children:"Add a Taxon"})}),Object(j.jsx)("div",{className:"taxon-form-body",children:Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),S("");var c={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({taxon:s,category:d,date:O,notes:g})};fetch("/api/records",c).then((function(e){e.ok?e.json().then((function(e){t(e),i(""),b("-Choose Category-"),p(""),f("")})):e.json().then((function(e){console.log(e.errors),S(e.errors.join("; "))}))})).catch((function(e){return console.log(e)}))},children:[N?Object(j.jsx)("div",{className:"errors",children:N}):null,Object(j.jsxs)("div",{className:"taxon-category-date",children:[Object(j.jsx)("label",{htmlFor:"taxon",className:"visuallyhidden"}),Object(j.jsx)("input",{required:!0,type:"text",id:"taxon",placeholder:"Taxon",value:s,onChange:function(e){return i(e.target.value)}}),Object(j.jsx)("label",{htmlFor:"category",className:"visuallyhidden"}),Object(j.jsxs)("select",{id:"category",value:d,onChange:function(e){return b(e.target.value)},children:[Object(j.jsx)("option",{children:"-Choose Category-"}),Object(j.jsx)("option",{children:"Amphibian"}),Object(j.jsx)("option",{children:"Bird"}),Object(j.jsx)("option",{children:"Butterfly"}),Object(j.jsx)("option",{children:"Fish"}),Object(j.jsx)("option",{children:"Insect"}),Object(j.jsx)("option",{children:"Mammal"}),Object(j.jsx)("option",{children:"Plant"}),Object(j.jsx)("option",{children:"Reptile"}),Object(j.jsx)("option",{children:"Other"})]}),Object(j.jsx)("label",{htmlFor:"date-seen",className:"visuallyhidden"}),Object(j.jsx)("input",{type:"date",id:"date-seen",value:O,onChange:function(e){return p(e.target.value)}})]}),Object(j.jsx)("label",{htmlFor:"notes",className:"visuallyhidden"}),Object(j.jsx)("textarea",{id:"notes",placeholder:"Notes",value:g,onChange:function(e){return f(e.target.value)}}),Object(j.jsx)("button",{type:"submit",children:"Create Record"})]})})]})};var L=function(e){var t=e.id,c=e.category,a=e.dateSeen,s=e.notes,i=e.taxon,o=e.onPatchRecord,l=e.onDeleteRecord,d=Object(n.useState)(!1),b=Object(r.a)(d,2),h=b[0],u=b[1],O=Object(n.useState)(c),p=Object(r.a)(O,2),x=p[0],m=p[1],g=Object(n.useState)(a),f=Object(r.a)(g,2),v=f[0],y=f[1],N=Object(n.useState)(s),S=Object(r.a)(N,2),C=S[0],F=S[1];return Object(j.jsxs)("div",{className:"record-card",children:[Object(j.jsx)("img",{src:i.image,alt:i.common_name}),Object(j.jsxs)("section",{children:[Object(j.jsxs)("div",{className:"".concat(function(){var e;switch(c){case"Amphibian":e="pink-category";break;case"Bird":e="blue-category";break;case"Butterfly":e="purple-category";break;case"Fish":e="yellow-category";break;case"Insect":e="orange-category";break;case"Mammal":e="gray-category";break;case"Plant":e="green-category";break;case"Reptile":e="indigo-category";break;case"Other":e="red-category"}return e}()," record-card-taxon"),children:[Object(j.jsx)("span",{children:i.common_name}),Object(j.jsxs)("span",{children:["(",Object(j.jsx)("i",{children:i.species}),")"]})]}),h?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("select",{value:x,onChange:function(e){return m(e.target.value)},children:[Object(j.jsx)("option",{children:"--"}),Object(j.jsx)("option",{children:"Amphibian"}),Object(j.jsx)("option",{children:"Bird"}),Object(j.jsx)("option",{children:"Butterfly"}),Object(j.jsx)("option",{children:"Fish"}),Object(j.jsx)("option",{children:"Insect"}),Object(j.jsx)("option",{children:"Mammal"}),Object(j.jsx)("option",{children:"Plant"}),Object(j.jsx)("option",{children:"Reptile"}),Object(j.jsx)("option",{children:"Other"})]}),Object(j.jsx)("input",{type:"date",value:v,onChange:function(e){return y(e.target.value)}}),Object(j.jsx)("textarea",{value:C,onChange:function(e){return F(e.target.value)}})]}):Object(j.jsxs)("div",{className:"record-card-info",children:[Object(j.jsxs)("span",{children:["First seen: ",a]}),s?Object(j.jsx)("span",{children:s}):Object(j.jsx)("br",{})]}),Object(j.jsxs)("div",{className:"button-container",children:[Object(j.jsx)("button",{className:"save-edit-button",onClick:function(){if(h){var e={method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({category:x,date:v,notes:C})};fetch("/api/records/".concat(t),e).then((function(e){return e.json()})).then((function(e){console.log(e),o(e),u(!1)})).catch((function(e){return console.log(e)}))}else u(!0)},children:h?"Save":"Edit"}),Object(j.jsx)("button",{className:"delete-button",onClick:function(){fetch("/api/records/".concat(t),{method:"DELETE"}).then((function(e){e.ok&&l(t)}))},children:"Delete"})]})]})]})};var P=function(e){var t=e.user,c=e.onPatchUser,a=e.records,s=e.onPatchRecord,i=e.onDeleteRecord,o=Object(n.useState)("--"),l=Object(r.a)(o,2),d=l[0],b=l[1],h=Object(n.useState)("--"),u=Object(r.a)(h,2),O=u[0],p=u[1],x=Object(n.useState)(null),m=Object(r.a)(x,2),g=m[0],f=m[1],v=a.filter((function(e){return"--"!==d?e.category===d:e})).sort((function(e,t){return"Most Recent"===O?t.date_seen.localeCompare(e.date_seen):"Oldest"===O?e.date_seen.localeCompare(t.date_seen):a})).map((function(e){return Object(j.jsx)(L,{id:e.id,category:e.category,dateSeen:e.date_seen,notes:e.notes,taxon:e.taxon,onDeleteRecord:i,onPatchRecord:s},e.id)}));function y(){var e={method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({public_profile:!t.public_profile})};fetch("/api/users/".concat(t.id),e).then((function(e){return e.json()})).then((function(e){console.log("Updated User: ",e),c(e)})).catch((function(e){return console.log(e)}))}return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"filter-and-profile",children:[Object(j.jsxs)("div",{className:"filter",children:[Object(j.jsx)("label",{htmlFor:"filter-category",children:"Filter by Category: "}),Object(j.jsxs)("select",{id:"filter-category",value:d,onChange:function(e){return b(e.target.value)},children:[Object(j.jsx)("option",{children:"--"}),Object(j.jsx)("option",{children:"Amphibian"}),Object(j.jsx)("option",{children:"Bird"}),Object(j.jsx)("option",{children:"Butterfly"}),Object(j.jsx)("option",{children:"Fish"}),Object(j.jsx)("option",{children:"Insect"}),Object(j.jsx)("option",{children:"Mammal"}),Object(j.jsx)("option",{children:"Plant"}),Object(j.jsx)("option",{children:"Reptile"}),Object(j.jsx)("option",{children:"Other"})]}),Object(j.jsx)("label",{htmlFor:"sort-date",children:"Sort by Date Seen: "}),Object(j.jsxs)("select",{id:"sort-date",value:O,onChange:function(e){return p(e.target.value)},children:[Object(j.jsx)("option",{children:"--"}),Object(j.jsx)("option",{children:"Most Recent"}),Object(j.jsx)("option",{children:"Oldest"})]})]}),Object(j.jsx)("div",{className:"share-profile",children:!1===t.public_profile?Object(j.jsx)("button",{onClick:y,children:"Make my profile public!"}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("button",{value:"http://localhost:3001/lifelist/".concat(t.username),onClick:function(e){var t=document.createElement("input");document.body.appendChild(t),t.value=e.target.value,t.select(),document.execCommand("copy"),document.body.removeChild(t),f("Link Copied!")},children:g?Object(j.jsx)("span",{id:"copied-text",children:g}):Object(j.jsx)(j.Fragment,{children:"Share my life list!"})}),Object(j.jsx)("button",{onClick:y,children:"Make my profile private"})]})})]}),Object(j.jsx)("div",{className:"record-list",children:v})]})};var R=function(e){var t=e.user,c=e.onPatchUser,a=Object(n.useState)([]),s=Object(r.a)(a,2),i=s[0],o=s[1];function l(e){o([].concat(Object(F.a)(i),[e]))}function d(e){var t=i.map((function(t){return t.id===e.id?e:t}));o(t)}function b(e){var t=i.filter((function(t){return t.id!==e}));o(t)}return Object(n.useEffect)((function(){fetch("/api/records").then((function(e){e.ok&&e.json().then((function(e){var c=e.filter((function(e){return e.user.id===t.id}));o(c)}))}))}),[]),Object(j.jsx)(j.Fragment,{children:function(){if(t)return Object(j.jsxs)("div",{className:"profile",children:[Object(j.jsx)(k,{addRecord:l}),Object(j.jsx)(P,{user:t,onPatchUser:c,records:i,onPatchRecord:d,onDeleteRecord:b})]})}()})};var w=function(){var e=Object(n.useState)(null),t=Object(r.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(!0),d=Object(r.a)(s,2),b=d[0],h=d[1],u=Object(n.useState)("--"),O=Object(r.a)(u,2),p=O[0],x=O[1],m=Object(n.useState)("--"),g=Object(r.a)(m,2),f=g[0],v=g[1],y=Object(o.h)().username;function N(e){var t;switch(e){case"Amphibian":t="pink-category";break;case"Bird":t="blue-category";break;case"Butterfly":t="purple-category";break;case"Fish":t="yellow-category";break;case"Insect":t="orange-category";break;case"Mammal":t="gray-category";break;case"Plant":t="green-category";break;case"Reptile":t="indigo-category";break;case"Other":t="red-category"}return t}return Object(n.useEffect)((function(){fetch("/users/".concat(y)).then((function(e){return e.json()})).then((function(e){console.log(e),!0===e.public_profile&&a(e),h(!1)})).catch((function(e){return console.log(e)}))}),[]),Object(j.jsx)(j.Fragment,{children:b?Object(j.jsx)("img",{id:"loading",src:l,alt:"loading"}):c?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("h1",{children:[c.username,"'s Life List"]}),Object(j.jsxs)("div",{className:"filter",children:[Object(j.jsx)("label",{htmlFor:"filter-category",children:"Filter by Category: "}),Object(j.jsxs)("select",{id:"filter-category",value:p,onChange:function(e){return x(e.target.value)},children:[Object(j.jsx)("option",{children:"--"}),Object(j.jsx)("option",{children:"Bird"}),Object(j.jsx)("option",{children:"Butterfly"}),Object(j.jsx)("option",{children:"Fish"}),Object(j.jsx)("option",{children:"Insect"}),Object(j.jsx)("option",{children:"Mammal"}),Object(j.jsx)("option",{children:"Plant"}),Object(j.jsx)("option",{children:"Reptile"}),Object(j.jsx)("option",{children:"Other"})]}),Object(j.jsx)("label",{htmlFor:"sort-date",children:"Sort by Date Seen: "}),Object(j.jsxs)("select",{id:"sort-date",value:f,onChange:function(e){return v(e.target.value)},children:[Object(j.jsx)("option",{children:"--"}),Object(j.jsx)("option",{children:"Most Recent"}),Object(j.jsx)("option",{children:"Oldest"})]})]}),Object(j.jsx)("div",{className:"shared-lifelist",children:c.records.filter((function(e){return"--"!==p?e.category===p:e})).sort((function(e,t){return"Most Recent"===f?t.date_seen.localeCompare(e.date_seen):"Oldest"===f?e.date_seen.localeCompare(t.date_seen):c.records})).map((function(e){return Object(j.jsxs)("div",{className:"record-card",children:[Object(j.jsx)("img",{src:e.taxon.image,alt:e.taxon.common_name,style:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"}}),Object(j.jsxs)("section",{children:[Object(j.jsxs)("div",{className:"".concat(N(e.category)," record-card-taxon"),children:[Object(j.jsx)("span",{children:e.taxon.common_name}),Object(j.jsxs)("span",{children:["(",Object(j.jsx)("i",{children:e.taxon.species}),")"]})]}),Object(j.jsxs)("div",{className:"record-card-info",children:[Object(j.jsxs)("span",{children:["First seen: ",e.date_seen]}),e.notes?Object(j.jsx)("span",{children:e.notes}):Object(j.jsx)("br",{})]})]})]})}))})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{children:"Oops, you've tried seeing a Life List that is marked as private!"}),Object(j.jsxs)("h2",{children:["If you tried accessing your life list, you'll need to ",Object(j.jsx)(i.b,{to:"/login",children:"log in"})," and visit your profile."]}),Object(j.jsx)("h2",{children:"If you want to share your life list, please ensure you have marked it as public after logging in."})]})})};var T=function(){return Object(j.jsx)("footer",{children:"Website created by Megan McCarty"})};var _=function(){var e=Object(n.useState)(null),t=Object(r.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(!0),i=Object(r.a)(s,2),b=i[0],h=i[1];function u(e){a(e)}return Object(n.useEffect)((function(){fetch("/profile").then((function(e){e.ok?e.json().then((function(e){a(e),h(!1)})):h(!1)}))}),[]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(d,{user:c,onLogout:function(){a(null)}}),Object(j.jsx)("main",{role:"main",children:Object(j.jsxs)(o.d,{children:[Object(j.jsx)(o.b,{exact:!0,path:"/",children:Object(j.jsx)(N,{})}),Object(j.jsx)(o.b,{exact:!0,path:"/login",children:b?Object(j.jsx)("img",{id:"loading",src:l,alt:"loading"}):c?Object(j.jsx)(o.a,{to:"/profile"}):Object(j.jsx)(S,{onLogin:u})}),Object(j.jsx)(o.b,{exact:!0,path:"/signup",children:b?Object(j.jsx)("img",{id:"loading",src:l,alt:"loading"}):c?Object(j.jsx)(o.a,{to:"/profile"}):Object(j.jsx)(C,{onLogin:u})}),Object(j.jsx)(o.b,{exact:!0,path:"/profile",children:c?Object(j.jsx)(R,{user:c,onPatchUser:function(e){a(e)}}):Object(j.jsx)(o.a,{to:"/login"})}),Object(j.jsx)(o.b,{exact:!0,path:"/lifelist/:username",children:Object(j.jsx)(w,{})})]})}),Object(j.jsx)(T,{})]})},E=(c(31),function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,33)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;c(e),n(e),a(e),s(e),i(e)}))});s.a.render(Object(j.jsx)(i.a,{children:Object(j.jsx)(_,{})}),document.getElementById("root")),E()}},[[32,1,2]]]);
//# sourceMappingURL=main.c456974b.chunk.js.map
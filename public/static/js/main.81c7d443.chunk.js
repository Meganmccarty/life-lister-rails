(this["webpackJsonplifelist-app-react"]=this["webpackJsonplifelist-app-react"]||[]).push([[0],{31:function(e,t,c){},32:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(14),i=c.n(a),r=c(4),s=c(2),o=c(3),l=c.p+"static/media/loading.42aaa181.gif";var j=function(e){return e.split("; ").find((function(e){return e.startsWith("CSRF-TOKEN=")})).split("=")[1]},d=c(0);var b=function(e){var t=e.user,c=e.onLogout,n=Object(o.g)();return Object(d.jsxs)("nav",{role:"navigation",children:[Object(d.jsx)("div",{children:Object(d.jsx)(r.b,{className:"logo",to:"/",children:"Life-Lister"})}),Object(d.jsx)("div",{children:t?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("span",{children:["Welcome, ",t.username,"!"]}),Object(d.jsx)(r.b,{to:"/profile",children:"Profile"}),Object(d.jsx)("button",{onClick:function(){fetch("/logout",{method:"DELETE",headers:{"X-CSRF-Token":j(document.cookie)}}).then((function(){c(),n.push("/login")}))},children:"Logout"})]}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(r.b,{to:"/login",children:"Login"}),Object(d.jsx)(r.b,{to:"/signup",children:"Signup"})]})})]})},u=c.p+"static/media/example-life-list.5216226c.png",h=c.p+"static/media/taxon-form.98a82e89.png",O=c.p+"static/media/filter.764ccc90.png",p=c.p+"static/media/filtered-list.d2d93be4.png",m=c.p+"static/media/record-before-edit.5346f84a.png",x=c.p+"static/media/record-during-edit.d983e622.png",f=c.p+"static/media/record-after-edit.3dc18dcb.png",g=c.p+"static/media/make-public.1c71e660.png",v=c.p+"static/media/share-life-list.6e4472e2.png",y=c.p+"static/media/link-copied.c636e010.png",S=c.p+"static/media/example-shared-life-list.5838ca53.png";var C=function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h1",{children:"Life-Lister: Track the Organisms You've Seen"}),Object(d.jsx)("img",{className:"home-image",src:u,alt:"Example Life List"}),Object(d.jsx)("h1",{children:"Add a Species Using a Simple Form"}),Object(d.jsxs)("figure",{children:[Object(d.jsx)("img",{className:"home-image",src:h,alt:"Taxon Form"}),Object(d.jsx)("figcaption",{children:"Add a taxon using either a common or scientific name!"})]}),Object(d.jsx)("h1",{children:"Filter Your Life List by Organism Type and Date Seen"}),Object(d.jsx)("img",{className:"home-image",src:O,alt:"Life List Filter"}),Object(d.jsx)("img",{className:"home-image",src:p,alt:"Filtered List"}),Object(d.jsx)("h1",{children:"Editing Your Life List Records is a Breeze!"}),Object(d.jsxs)("div",{className:"image-group",children:[Object(d.jsx)("img",{className:"home-image",src:m,alt:"Record in Need of Edit"}),Object(d.jsx)("img",{className:"home-image",src:x,alt:"Editing Record"}),Object(d.jsx)("img",{className:"home-image",src:f,alt:"Edited Record Saved"})]}),Object(d.jsx)("h1",{children:"Share Your Life List with Your Fellow Naturalists!"}),Object(d.jsxs)("div",{className:"image-group",children:[Object(d.jsx)("img",{className:"home-image",src:g,alt:"Make Your Profile Public"}),Object(d.jsx)("img",{className:"home-image",src:v,alt:"Clicking the 'Share Life List' Button"}),Object(d.jsx)("img",{className:"home-image",src:y,alt:"Your Profile Link is Copied to the Clipboard!"})]}),Object(d.jsx)("img",{className:"home-image",src:S,alt:"Example Shared Life List"}),Object(d.jsx)("h1",{children:"Want to Start Your Life List?"}),Object(d.jsx)("button",{id:"home-signup",children:Object(d.jsx)(r.b,{to:"/signup",children:"Create a Free Account!"})}),Object(d.jsx)("br",{})]})};var N=function(e){var t=e.onLogin,c=Object(o.g)(),a=Object(n.useState)(""),i=Object(s.a)(a,2),r=i[0],l=i[1],b=Object(n.useState)(""),u=Object(s.a)(b,2),h=u[0],O=u[1],p=Object(n.useState)(""),m=Object(s.a)(p,2),x=m[0],f=m[1];return Object(d.jsxs)("div",{className:"auth-form",children:[Object(d.jsx)("div",{className:"auth-form-header",children:Object(d.jsx)("h1",{children:"Log In"})}),Object(d.jsx)("div",{className:"auth-form-body",children:Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),f("");var n={method:"POST",headers:{"Content-Type":"application/json","X-CSRF-Token":j(document.cookie)},body:JSON.stringify({username:r,password:h})};fetch("/login",n).then((function(e){e.ok?e.json().then((function(e){t(e),l(""),O(""),c.push("/profile")})):e.json().then((function(e){f(e.errors)}))}))},children:[x?Object(d.jsx)("div",{className:"errors",children:x}):null,Object(d.jsx)("label",{htmlFor:"username",className:"visuallyhidden"}),Object(d.jsx)("input",{type:"text",id:"username",placeholder:"Username",value:r,onChange:function(e){return l(e.target.value)}}),Object(d.jsx)("label",{htmlFor:"password",className:"visuallyhidden"}),Object(d.jsx)("input",{type:"password",id:"password",placeholder:"Password",value:h,onChange:function(e){return O(e.target.value)}}),Object(d.jsx)("button",{type:"submit",children:"Login"})]})})]})};var k=function(e){var t=e.onLogin,c=Object(n.useState)(""),a=Object(s.a)(c,2),i=a[0],r=a[1],l=Object(n.useState)(""),b=Object(s.a)(l,2),u=b[0],h=b[1],O=Object(n.useState)(""),p=Object(s.a)(O,2),m=p[0],x=p[1],f=Object(n.useState)(""),g=Object(s.a)(f,2),v=g[0],y=g[1],S=Object(o.g)();return Object(d.jsxs)("div",{className:"auth-form",children:[Object(d.jsx)("div",{className:"auth-form-header",children:Object(d.jsx)("h1",{children:"Create an Account"})}),Object(d.jsx)("div",{className:"auth-form-body",children:Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),y("");var c={method:"POST",headers:{"Content-Type":"application/json","X-CSRF-Token":j(document.cookie)},body:JSON.stringify({username:i,password:u,password_confirmation:m})};fetch("/signup",c).then((function(e){e.ok?e.json().then((function(e){t(e),r(""),h(""),x(""),S.push("/profile")})):e.json().then((function(e){y(e.errors.join("; "))}))}))},children:[v?Object(d.jsx)("div",{className:"errors",children:v}):null,Object(d.jsx)("label",{htmlFor:"username",className:"visuallyhidden"}),Object(d.jsx)("input",{type:"text",id:"username",placeholder:"Username",value:i,onChange:function(e){return r(e.target.value)}}),Object(d.jsx)("label",{htmlFor:"password",className:"visuallyhidden"}),Object(d.jsx)("input",{type:"password",id:"password",placeholder:"Password",value:u,onChange:function(e){return h(e.target.value)}}),Object(d.jsx)("label",{htmlFor:"confirm-password",className:"visuallyhidden"}),Object(d.jsx)("input",{type:"password",id:"confirm-password",placeholder:"Confirm Password",value:m,onChange:function(e){return x(e.target.value)}}),Object(d.jsx)("button",{type:"submit",children:"Signup"})]})})]})},F=c(17);var L=function(e){var t=e.addRecord,c=Object(n.useState)(""),a=Object(s.a)(c,2),i=a[0],r=a[1],o=Object(n.useState)("-Choose Category-"),l=Object(s.a)(o,2),b=l[0],u=l[1],h=Object(n.useState)(""),O=Object(s.a)(h,2),p=O[0],m=O[1],x=Object(n.useState)(""),f=Object(s.a)(x,2),g=f[0],v=f[1],y=Object(n.useState)(""),S=Object(s.a)(y,2),C=S[0],N=S[1];return Object(d.jsxs)("div",{className:"taxon-form",children:[Object(d.jsx)("div",{className:"taxon-form-header",children:Object(d.jsx)("h2",{children:"Add a Taxon"})}),Object(d.jsx)("div",{className:"taxon-form-body",children:Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),N("");var c={method:"POST",headers:{"Content-Type":"application/json","X-CSRF-Token":j(document.cookie)},body:JSON.stringify({taxon:i,category:b,date:p,notes:g})};fetch("/api/records",c).then((function(e){e.ok?e.json().then((function(e){t(e),r(""),u("-Choose Category-"),m(""),v("")})):e.json().then((function(e){N(e.errors.join("; "))}))})).catch((function(e){return console.log(e)}))},children:[C?Object(d.jsx)("div",{className:"errors",children:C}):null,Object(d.jsxs)("div",{className:"taxon-category-date",children:[Object(d.jsx)("label",{htmlFor:"taxon",className:"visuallyhidden"}),Object(d.jsx)("input",{required:!0,type:"text",id:"taxon",placeholder:"Taxon",value:i,onChange:function(e){return r(e.target.value)}}),Object(d.jsx)("label",{htmlFor:"category",className:"visuallyhidden"}),Object(d.jsxs)("select",{id:"category",value:b,onChange:function(e){return u(e.target.value)},children:[Object(d.jsx)("option",{children:"-Choose Category-"}),Object(d.jsx)("option",{children:"Amphibian"}),Object(d.jsx)("option",{children:"Bird"}),Object(d.jsx)("option",{children:"Butterfly"}),Object(d.jsx)("option",{children:"Fish"}),Object(d.jsx)("option",{children:"Insect"}),Object(d.jsx)("option",{children:"Mammal"}),Object(d.jsx)("option",{children:"Plant"}),Object(d.jsx)("option",{children:"Reptile"}),Object(d.jsx)("option",{children:"Other"})]}),Object(d.jsx)("label",{htmlFor:"date-seen",className:"visuallyhidden"}),Object(d.jsx)("input",{type:"date",id:"date-seen",value:p,onChange:function(e){return m(e.target.value)}})]}),Object(d.jsx)("label",{htmlFor:"notes",className:"visuallyhidden"}),Object(d.jsx)("textarea",{id:"notes",placeholder:"Notes",value:g,onChange:function(e){return v(e.target.value)}}),Object(d.jsx)("button",{type:"submit",children:"Create Record"})]})})]})};var R=function(e){var t=e.id,c=e.category,a=e.dateSeen,i=e.notes,r=e.taxon,o=e.onPatchRecord,l=e.onDeleteRecord,b=Object(n.useState)(!1),u=Object(s.a)(b,2),h=u[0],O=u[1],p=Object(n.useState)(c),m=Object(s.a)(p,2),x=m[0],f=m[1],g=Object(n.useState)(a),v=Object(s.a)(g,2),y=v[0],S=v[1],C=Object(n.useState)(i),N=Object(s.a)(C,2),k=N[0],F=N[1];return Object(d.jsxs)("div",{className:"record-card",children:[Object(d.jsx)("img",{src:r.image,alt:r.common_name}),Object(d.jsxs)("section",{children:[Object(d.jsxs)("div",{className:"".concat(function(){var e;switch(c){case"Amphibian":e="pink-category";break;case"Bird":e="blue-category";break;case"Butterfly":e="purple-category";break;case"Fish":e="yellow-category";break;case"Insect":e="orange-category";break;case"Mammal":e="gray-category";break;case"Plant":e="green-category";break;case"Reptile":e="indigo-category";break;case"Other":e="red-category";break;default:e=""}return e}()," record-card-taxon"),children:[Object(d.jsx)("span",{children:r.common_name}),Object(d.jsxs)("span",{children:["(",Object(d.jsx)("i",{children:r.species}),")"]})]}),h?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("select",{value:x,onChange:function(e){return f(e.target.value)},children:[Object(d.jsx)("option",{children:"--"}),Object(d.jsx)("option",{children:"Amphibian"}),Object(d.jsx)("option",{children:"Bird"}),Object(d.jsx)("option",{children:"Butterfly"}),Object(d.jsx)("option",{children:"Fish"}),Object(d.jsx)("option",{children:"Insect"}),Object(d.jsx)("option",{children:"Mammal"}),Object(d.jsx)("option",{children:"Plant"}),Object(d.jsx)("option",{children:"Reptile"}),Object(d.jsx)("option",{children:"Other"})]}),Object(d.jsx)("input",{type:"date",value:y,onChange:function(e){return S(e.target.value)}}),Object(d.jsx)("textarea",{value:k,onChange:function(e){return F(e.target.value)}})]}):Object(d.jsxs)("div",{className:"record-card-info",children:[Object(d.jsxs)("span",{children:["First seen: ",a]}),i?Object(d.jsx)("span",{children:i}):Object(d.jsx)("br",{})]}),Object(d.jsxs)("div",{className:"button-container",children:[Object(d.jsx)("button",{className:"save-edit-button",onClick:function(){if(h){var e={method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRF-Token":j(document.cookie)},body:JSON.stringify({category:x,date:y,notes:k})};fetch("/api/records/".concat(t),e).then((function(e){return e.json()})).then((function(e){o(e),O(!1)})).catch((function(e){return console.log(e)}))}else O(!0)},children:h?"Save":"Edit"}),Object(d.jsx)("button",{className:"delete-button",onClick:function(){var e={method:"DELETE",headers:{"X-CSRF-Token":j(document.cookie)}};fetch("/api/records/".concat(t),e).then((function(e){e.ok&&l(t)}))},children:"Delete"})]})]})]})};var T=function(e){var t=e.user,c=e.onPatchUser,a=e.records,i=e.onPatchRecord,r=e.onDeleteRecord,o=Object(n.useState)("--"),l=Object(s.a)(o,2),b=l[0],u=l[1],h=Object(n.useState)("--"),O=Object(s.a)(h,2),p=O[0],m=O[1],x=Object(n.useState)(null),f=Object(s.a)(x,2),g=f[0],v=f[1],y=a.filter((function(e){return"--"!==b?e.category===b:e})).sort((function(e,t){return"Most Recent"===p?t.date_seen.localeCompare(e.date_seen):"Oldest"===p?e.date_seen.localeCompare(t.date_seen):a})).map((function(e){return Object(d.jsx)(R,{id:e.id,category:e.category,dateSeen:e.date_seen,notes:e.notes,taxon:e.taxon,onDeleteRecord:r,onPatchRecord:i},e.id)}));function S(){var e={method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRF-Token":j(document.cookie)},body:JSON.stringify({public_profile:!t.public_profile})};fetch("/api/users/".concat(t.id),e).then((function(e){return e.json()})).then((function(e){c(e)})).catch((function(e){return console.log(e)}))}return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"filter-and-profile",children:[Object(d.jsxs)("div",{className:"filter",children:[Object(d.jsx)("label",{htmlFor:"filter-category",children:"Filter by Category: "}),Object(d.jsxs)("select",{id:"filter-category",value:b,onChange:function(e){return u(e.target.value)},children:[Object(d.jsx)("option",{children:"--"}),Object(d.jsx)("option",{children:"Amphibian"}),Object(d.jsx)("option",{children:"Bird"}),Object(d.jsx)("option",{children:"Butterfly"}),Object(d.jsx)("option",{children:"Fish"}),Object(d.jsx)("option",{children:"Insect"}),Object(d.jsx)("option",{children:"Mammal"}),Object(d.jsx)("option",{children:"Plant"}),Object(d.jsx)("option",{children:"Reptile"}),Object(d.jsx)("option",{children:"Other"})]}),Object(d.jsx)("label",{htmlFor:"sort-date",children:"Sort by Date Seen: "}),Object(d.jsxs)("select",{id:"sort-date",value:p,onChange:function(e){return m(e.target.value)},children:[Object(d.jsx)("option",{children:"--"}),Object(d.jsx)("option",{children:"Most Recent"}),Object(d.jsx)("option",{children:"Oldest"})]})]}),Object(d.jsx)("div",{className:"share-profile",children:!1===t.public_profile?Object(d.jsx)("button",{onClick:S,children:"Make my profile public!"}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("button",{value:"https://life-lister.herokuapp.com/lifelist/".concat(t.username),onClick:function(e){var t=document.createElement("input");document.body.appendChild(t),t.value=e.target.value,t.select(),document.execCommand("copy"),document.body.removeChild(t),v("Link Copied!")},children:g?Object(d.jsx)("span",{id:"copied-text",children:g}):Object(d.jsx)(d.Fragment,{children:"Share my life list!"})}),Object(d.jsx)("button",{onClick:S,children:"Make my profile private"})]})})]}),Object(d.jsx)("div",{className:"record-list",children:y})]})};var P=function(e){var t=e.user,c=e.onPatchUser,a=Object(n.useState)([]),i=Object(s.a)(a,2),r=i[0],o=i[1];function l(e){o([].concat(Object(F.a)(r),[e]))}function j(e){var t=r.map((function(t){return t.id===e.id?e:t}));o(t)}function b(e){var t=r.filter((function(t){return t.id!==e}));o(t)}return Object(n.useEffect)((function(){fetch("/api/records").then((function(e){e.ok&&e.json().then((function(e){var c=e.filter((function(e){return e.user.id===t.id}));o(c)}))}))}),[t.id]),Object(d.jsx)(d.Fragment,{children:function(){if(t)return Object(d.jsxs)("div",{className:"profile",children:[Object(d.jsx)(L,{addRecord:l}),Object(d.jsx)(T,{user:t,onPatchUser:c,records:r,onPatchRecord:j,onDeleteRecord:b})]})}()})};var w=function(){var e=Object(n.useState)(null),t=Object(s.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)(!0),j=Object(s.a)(i,2),b=j[0],u=j[1],h=Object(n.useState)("--"),O=Object(s.a)(h,2),p=O[0],m=O[1],x=Object(n.useState)("--"),f=Object(s.a)(x,2),g=f[0],v=f[1],y=Object(o.h)().username;function S(e){var t;switch(e){case"Amphibian":t="pink-category";break;case"Bird":t="blue-category";break;case"Butterfly":t="purple-category";break;case"Fish":t="yellow-category";break;case"Insect":t="orange-category";break;case"Mammal":t="gray-category";break;case"Plant":t="green-category";break;case"Reptile":t="indigo-category";break;case"Other":t="red-category";break;default:t=""}return t}return Object(n.useEffect)((function(){fetch("/users/".concat(y)).then((function(e){return e.json()})).then((function(e){!0===e.public_profile&&a(e),u(!1)})).catch((function(e){return console.log(e)}))}),[y]),Object(d.jsx)(d.Fragment,{children:b?Object(d.jsx)("img",{id:"loading",src:l,alt:"loading"}):c?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("h1",{children:[c.username,"'s Life List"]}),Object(d.jsxs)("div",{className:"filter",children:[Object(d.jsx)("label",{htmlFor:"filter-category",children:"Filter by Category: "}),Object(d.jsxs)("select",{id:"filter-category",value:p,onChange:function(e){return m(e.target.value)},children:[Object(d.jsx)("option",{children:"--"}),Object(d.jsx)("option",{children:"Bird"}),Object(d.jsx)("option",{children:"Butterfly"}),Object(d.jsx)("option",{children:"Fish"}),Object(d.jsx)("option",{children:"Insect"}),Object(d.jsx)("option",{children:"Mammal"}),Object(d.jsx)("option",{children:"Plant"}),Object(d.jsx)("option",{children:"Reptile"}),Object(d.jsx)("option",{children:"Other"})]}),Object(d.jsx)("label",{htmlFor:"sort-date",children:"Sort by Date Seen: "}),Object(d.jsxs)("select",{id:"sort-date",value:g,onChange:function(e){return v(e.target.value)},children:[Object(d.jsx)("option",{children:"--"}),Object(d.jsx)("option",{children:"Most Recent"}),Object(d.jsx)("option",{children:"Oldest"})]})]}),Object(d.jsx)("div",{className:"shared-lifelist",children:c.records.filter((function(e){return"--"!==p?e.category===p:e})).sort((function(e,t){return"Most Recent"===g?t.date_seen.localeCompare(e.date_seen):"Oldest"===g?e.date_seen.localeCompare(t.date_seen):c.records})).map((function(e){return Object(d.jsxs)("div",{className:"record-card",children:[Object(d.jsx)("img",{src:e.taxon.image,alt:e.taxon.common_name,style:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"}}),Object(d.jsxs)("section",{children:[Object(d.jsxs)("div",{className:"".concat(S(e.category)," record-card-taxon"),children:[Object(d.jsx)("span",{children:e.taxon.common_name}),Object(d.jsxs)("span",{children:["(",Object(d.jsx)("i",{children:e.taxon.species}),")"]})]}),Object(d.jsxs)("div",{className:"record-card-info",children:[Object(d.jsxs)("span",{children:["First seen: ",e.date_seen]}),e.notes?Object(d.jsx)("span",{children:e.notes}):Object(d.jsx)("br",{})]})]})]},e.id)}))})]}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h1",{children:"Oops, you've tried seeing a Life List that is marked as private!"}),Object(d.jsxs)("h2",{children:["If you tried accessing your life list, you'll need to ",Object(d.jsx)(r.b,{to:"/login",children:"log in"})," and visit your profile."]}),Object(d.jsx)("h2",{children:"If you want to share your life list, please ensure you have marked it as public after logging in."})]})})};var E=function(){return Object(d.jsx)("footer",{children:"Website created by Megan McCarty"})};var _=function(){var e=Object(n.useState)(null),t=Object(s.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)(!0),r=Object(s.a)(i,2),j=r[0],u=r[1];function h(e){a(e)}return Object(n.useEffect)((function(){fetch("/api/profile").then((function(e){e.ok?e.json().then((function(e){a(e),u(!1)})):u(!1)}))}),[]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(b,{user:c,onLogout:function(){a(null)}}),Object(d.jsx)("main",{role:"main",children:Object(d.jsxs)(o.d,{children:[Object(d.jsx)(o.b,{exact:!0,path:"/",children:Object(d.jsx)(C,{})}),Object(d.jsx)(o.b,{exact:!0,path:"/login",children:j?Object(d.jsx)("img",{id:"loading",src:l,alt:"loading"}):c?Object(d.jsx)(o.a,{to:"/profile"}):Object(d.jsx)(N,{onLogin:h})}),Object(d.jsx)(o.b,{exact:!0,path:"/signup",children:j?Object(d.jsx)("img",{id:"loading",src:l,alt:"loading"}):c?Object(d.jsx)(o.a,{to:"/profile"}):Object(d.jsx)(k,{onLogin:h})}),Object(d.jsx)(o.b,{exact:!0,path:"/profile",children:c?Object(d.jsx)(P,{user:c,onPatchUser:function(e){a(e)}}):Object(d.jsx)(o.a,{to:"/login"})}),Object(d.jsx)(o.b,{exact:!0,path:"/lifelist/:username",children:Object(d.jsx)(w,{})})]})}),Object(d.jsx)(E,{})]})},B=(c(31),function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,33)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;c(e),n(e),a(e),i(e),r(e)}))});i.a.render(Object(d.jsx)(r.a,{children:Object(d.jsx)(_,{})}),document.getElementById("root")),B()}},[[32,1,2]]]);
//# sourceMappingURL=main.81c7d443.chunk.js.map
(this["webpackJsonplifelist-app-react"]=this["webpackJsonplifelist-app-react"]||[]).push([[0],{31:function(e,t,c){},32:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(14),r=c.n(a),s=c(4),i=c(2),o=c(3),l=c.p+"static/media/loading.42aaa181.gif";var j=function(){return document.cookie.split("; ").find((function(e){return e.startsWith("CSRF-TOKEN=")})).split("=")[1]},d=c(0);var b=function(e){var t=e.user,c=e.onLogout,n=Object(o.g)();return Object(d.jsxs)("nav",{role:"navigation",children:[Object(d.jsx)("div",{children:Object(d.jsx)(s.b,{className:"logo",to:"/",children:"Life-Lister"})}),Object(d.jsx)("div",{children:t?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("span",{children:["Welcome, ",t.username,"!"]}),Object(d.jsx)(s.b,{to:"/profile",children:"Profile"}),Object(d.jsx)("button",{onClick:function(){fetch("/logout",{method:"DELETE",headers:{"X-CSRF-Token":j}}).then((function(){c(),n.push("/login")}))},children:"Logout"})]}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(s.b,{to:"/login",children:"Login"}),Object(d.jsx)(s.b,{to:"/signup",children:"Signup"})]})})]})},h=c.p+"static/media/example-life-list.5216226c.png",u=c.p+"static/media/taxon-form.98a82e89.png",O=c.p+"static/media/filter.764ccc90.png",p=c.p+"static/media/filtered-list.d2d93be4.png",x=c.p+"static/media/record-before-edit.5346f84a.png",m=c.p+"static/media/record-during-edit.d983e622.png",g=c.p+"static/media/record-after-edit.3dc18dcb.png",f=c.p+"static/media/make-public.1c71e660.png",v=c.p+"static/media/share-life-list.6e4472e2.png",y=c.p+"static/media/link-copied.c636e010.png",S=c.p+"static/media/example-shared-life-list.5838ca53.png";var C=function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h1",{children:"Life-Lister: Track the Organisms You've Seen"}),Object(d.jsx)("img",{className:"home-image",src:h,alt:"Example Life List"}),Object(d.jsx)("h1",{children:"Add a Species Using a Simple Form"}),Object(d.jsx)("img",{className:"home-image",src:u,alt:"Taxon Form"}),Object(d.jsx)("caption",{children:"Add a taxon using either a common or scientific name!"}),Object(d.jsx)("h1",{children:"Filter Your Life List by Organism Type and Date Seen"}),Object(d.jsx)("img",{className:"home-image",src:O,alt:"Life List Filter"}),Object(d.jsx)("img",{className:"home-image",src:p,alt:"Filtered List"}),Object(d.jsx)("h1",{children:"Editing Your Life List Records is a Breeze!"}),Object(d.jsxs)("div",{className:"image-group",children:[Object(d.jsx)("img",{className:"home-image",src:x,alt:"Record in Need of Edit"}),Object(d.jsx)("img",{className:"home-image",src:m,alt:"Editing Record"}),Object(d.jsx)("img",{className:"home-image",src:g,alt:"Edited Record Saved"})]}),Object(d.jsx)("h1",{children:"Share Your Life List with Your Fellow Naturalists!"}),Object(d.jsxs)("div",{className:"image-group",children:[Object(d.jsx)("img",{className:"home-image",src:f,alt:"Make Your Profile Public"}),Object(d.jsx)("img",{className:"home-image",src:v,alt:"Clicking the 'Share Life List' Button"}),Object(d.jsx)("img",{className:"home-image",src:y,alt:"Your Profile Link is Copied to the Clipboard!"})]}),Object(d.jsx)("img",{className:"home-image",src:S,alt:"Example Shared Life List"}),Object(d.jsx)("h1",{children:"Want to Start Your Life List?"}),Object(d.jsx)("button",{id:"home-signup",children:Object(d.jsx)(s.b,{to:"/signup",children:"Create a Free Account!"})}),Object(d.jsx)("br",{})]})};var N=function(e){var t=e.onLogin,c=Object(o.g)(),a=Object(n.useState)(""),r=Object(i.a)(a,2),s=r[0],l=r[1],b=Object(n.useState)(""),h=Object(i.a)(b,2),u=h[0],O=h[1],p=Object(n.useState)(""),x=Object(i.a)(p,2),m=x[0],g=x[1];return Object(d.jsxs)("div",{className:"auth-form",children:[Object(d.jsx)("div",{className:"auth-form-header",children:Object(d.jsx)("h1",{children:"Log In"})}),Object(d.jsx)("div",{className:"auth-form-body",children:Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),g("");var n={method:"POST",headers:{"Content-Type":"application/json","X-CSRF-Token":j},body:JSON.stringify({username:s,password:u})};fetch("/login",n).then((function(e){e.ok?e.json().then((function(e){t(e),l(""),O(""),c.push("/profile")})):e.json().then((function(e){console.log(e.errors),g(e.errors)}))}))},children:[m?Object(d.jsx)("div",{className:"errors",children:m}):null,Object(d.jsx)("label",{htmlFor:"username",className:"visuallyhidden"}),Object(d.jsx)("input",{type:"text",id:"username",placeholder:"Username",value:s,onChange:function(e){return l(e.target.value)}}),Object(d.jsx)("label",{htmlFor:"password",className:"visuallyhidden"}),Object(d.jsx)("input",{type:"password",id:"password",placeholder:"Password",value:u,onChange:function(e){return O(e.target.value)}}),Object(d.jsx)("button",{type:"submit",children:"Login"})]})})]})};var F=function(e){var t=e.onLogin,c=Object(n.useState)(""),a=Object(i.a)(c,2),r=a[0],s=a[1],l=Object(n.useState)(""),b=Object(i.a)(l,2),h=b[0],u=b[1],O=Object(n.useState)(""),p=Object(i.a)(O,2),x=p[0],m=p[1],g=Object(n.useState)(""),f=Object(i.a)(g,2),v=f[0],y=f[1],S=Object(o.g)();return console.log(v),Object(d.jsxs)("div",{className:"auth-form",children:[Object(d.jsx)("div",{className:"auth-form-header",children:Object(d.jsx)("h1",{children:"Create an Account"})}),Object(d.jsx)("div",{className:"auth-form-body",children:Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),y("");var c={method:"POST",headers:{"Content-Type":"application/json","X-CSRF-Token":j},body:JSON.stringify({username:r,password:h,password_confirmation:x})};fetch("/signup",c).then((function(e){e.ok?e.json().then((function(e){t(e),s(""),u(""),m(""),S.push("/profile")})):e.json().then((function(e){console.log(e.errors),y(e.errors.join("; "))}))}))},children:[v?Object(d.jsx)("div",{className:"errors",children:v}):null,Object(d.jsx)("label",{htmlFor:"username",className:"visuallyhidden"}),Object(d.jsx)("input",{type:"text",id:"username",placeholder:"Username",value:r,onChange:function(e){return s(e.target.value)}}),Object(d.jsx)("label",{htmlFor:"password",className:"visuallyhidden"}),Object(d.jsx)("input",{type:"password",id:"password",placeholder:"Password",value:h,onChange:function(e){return u(e.target.value)}}),Object(d.jsx)("label",{htmlFor:"confirm-password",className:"visuallyhidden"}),Object(d.jsx)("input",{type:"password",id:"confirm-password",placeholder:"Confirm Password",value:x,onChange:function(e){return m(e.target.value)}}),Object(d.jsx)("button",{type:"submit",children:"Signup"})]})})]})},k=c(17);var L=function(e){var t=e.addRecord,c=Object(n.useState)(""),a=Object(i.a)(c,2),r=a[0],s=a[1],o=Object(n.useState)("-Choose Category-"),l=Object(i.a)(o,2),b=l[0],h=l[1],u=Object(n.useState)(""),O=Object(i.a)(u,2),p=O[0],x=O[1],m=Object(n.useState)(""),g=Object(i.a)(m,2),f=g[0],v=g[1],y=Object(n.useState)(""),S=Object(i.a)(y,2),C=S[0],N=S[1];return console.log(b),Object(d.jsxs)("div",{className:"taxon-form",children:[Object(d.jsx)("div",{className:"taxon-form-header",children:Object(d.jsx)("h2",{children:"Add a Taxon"})}),Object(d.jsx)("div",{className:"taxon-form-body",children:Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),N("");var c={method:"POST",headers:{"Content-Type":"application/json","X-CSRF-Token":j},body:JSON.stringify({taxon:r,category:b,date:p,notes:f})};fetch("/api/records",c).then((function(e){e.ok?e.json().then((function(e){t(e),s(""),h("-Choose Category-"),x(""),v("")})):e.json().then((function(e){console.log(e.errors),N(e.errors.join("; "))}))})).catch((function(e){return console.log(e)}))},children:[C?Object(d.jsx)("div",{className:"errors",children:C}):null,Object(d.jsxs)("div",{className:"taxon-category-date",children:[Object(d.jsx)("label",{htmlFor:"taxon",className:"visuallyhidden"}),Object(d.jsx)("input",{required:!0,type:"text",id:"taxon",placeholder:"Taxon",value:r,onChange:function(e){return s(e.target.value)}}),Object(d.jsx)("label",{htmlFor:"category",className:"visuallyhidden"}),Object(d.jsxs)("select",{id:"category",value:b,onChange:function(e){return h(e.target.value)},children:[Object(d.jsx)("option",{children:"-Choose Category-"}),Object(d.jsx)("option",{children:"Amphibian"}),Object(d.jsx)("option",{children:"Bird"}),Object(d.jsx)("option",{children:"Butterfly"}),Object(d.jsx)("option",{children:"Fish"}),Object(d.jsx)("option",{children:"Insect"}),Object(d.jsx)("option",{children:"Mammal"}),Object(d.jsx)("option",{children:"Plant"}),Object(d.jsx)("option",{children:"Reptile"}),Object(d.jsx)("option",{children:"Other"})]}),Object(d.jsx)("label",{htmlFor:"date-seen",className:"visuallyhidden"}),Object(d.jsx)("input",{type:"date",id:"date-seen",value:p,onChange:function(e){return x(e.target.value)}})]}),Object(d.jsx)("label",{htmlFor:"notes",className:"visuallyhidden"}),Object(d.jsx)("textarea",{id:"notes",placeholder:"Notes",value:f,onChange:function(e){return v(e.target.value)}}),Object(d.jsx)("button",{type:"submit",children:"Create Record"})]})})]})};var R=function(e){var t=e.id,c=e.category,a=e.dateSeen,r=e.notes,s=e.taxon,o=e.onPatchRecord,l=e.onDeleteRecord,b=Object(n.useState)(!1),h=Object(i.a)(b,2),u=h[0],O=h[1],p=Object(n.useState)(c),x=Object(i.a)(p,2),m=x[0],g=x[1],f=Object(n.useState)(a),v=Object(i.a)(f,2),y=v[0],S=v[1],C=Object(n.useState)(r),N=Object(i.a)(C,2),F=N[0],k=N[1];return Object(d.jsxs)("div",{className:"record-card",children:[Object(d.jsx)("img",{src:s.image,alt:s.common_name}),Object(d.jsxs)("section",{children:[Object(d.jsxs)("div",{className:"".concat(function(){var e;switch(c){case"Amphibian":e="pink-category";break;case"Bird":e="blue-category";break;case"Butterfly":e="purple-category";break;case"Fish":e="yellow-category";break;case"Insect":e="orange-category";break;case"Mammal":e="gray-category";break;case"Plant":e="green-category";break;case"Reptile":e="indigo-category";break;case"Other":e="red-category"}return e}()," record-card-taxon"),children:[Object(d.jsx)("span",{children:s.common_name}),Object(d.jsxs)("span",{children:["(",Object(d.jsx)("i",{children:s.species}),")"]})]}),u?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("select",{value:m,onChange:function(e){return g(e.target.value)},children:[Object(d.jsx)("option",{children:"--"}),Object(d.jsx)("option",{children:"Amphibian"}),Object(d.jsx)("option",{children:"Bird"}),Object(d.jsx)("option",{children:"Butterfly"}),Object(d.jsx)("option",{children:"Fish"}),Object(d.jsx)("option",{children:"Insect"}),Object(d.jsx)("option",{children:"Mammal"}),Object(d.jsx)("option",{children:"Plant"}),Object(d.jsx)("option",{children:"Reptile"}),Object(d.jsx)("option",{children:"Other"})]}),Object(d.jsx)("input",{type:"date",value:y,onChange:function(e){return S(e.target.value)}}),Object(d.jsx)("textarea",{value:F,onChange:function(e){return k(e.target.value)}})]}):Object(d.jsxs)("div",{className:"record-card-info",children:[Object(d.jsxs)("span",{children:["First seen: ",a]}),r?Object(d.jsx)("span",{children:r}):Object(d.jsx)("br",{})]}),Object(d.jsxs)("div",{className:"button-container",children:[Object(d.jsx)("button",{className:"save-edit-button",onClick:function(){if(u){var e={method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRF-Token":j},body:JSON.stringify({category:m,date:y,notes:F})};fetch("/api/records/".concat(t),e).then((function(e){return e.json()})).then((function(e){console.log(e),o(e),O(!1)})).catch((function(e){return console.log(e)}))}else O(!0)},children:u?"Save":"Edit"}),Object(d.jsx)("button",{className:"delete-button",onClick:function(){var e={method:"DELETE",headers:{"X-CSRF-Token":j}};fetch("/api/records/".concat(t),e).then((function(e){e.ok&&l(t)}))},children:"Delete"})]})]})]})};var T=function(e){var t=e.user,c=e.onPatchUser,a=e.records,r=e.onPatchRecord,s=e.onDeleteRecord,o=Object(n.useState)("--"),l=Object(i.a)(o,2),b=l[0],h=l[1],u=Object(n.useState)("--"),O=Object(i.a)(u,2),p=O[0],x=O[1],m=Object(n.useState)(null),g=Object(i.a)(m,2),f=g[0],v=g[1],y=a.filter((function(e){return"--"!==b?e.category===b:e})).sort((function(e,t){return"Most Recent"===p?t.date_seen.localeCompare(e.date_seen):"Oldest"===p?e.date_seen.localeCompare(t.date_seen):a})).map((function(e){return Object(d.jsx)(R,{id:e.id,category:e.category,dateSeen:e.date_seen,notes:e.notes,taxon:e.taxon,onDeleteRecord:s,onPatchRecord:r},e.id)}));function S(){var e={method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRF-Token":j},body:JSON.stringify({public_profile:!t.public_profile})};fetch("/api/users/".concat(t.id),e).then((function(e){return e.json()})).then((function(e){console.log("Updated User: ",e),c(e)})).catch((function(e){return console.log(e)}))}return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"filter-and-profile",children:[Object(d.jsxs)("div",{className:"filter",children:[Object(d.jsx)("label",{htmlFor:"filter-category",children:"Filter by Category: "}),Object(d.jsxs)("select",{id:"filter-category",value:b,onChange:function(e){return h(e.target.value)},children:[Object(d.jsx)("option",{children:"--"}),Object(d.jsx)("option",{children:"Amphibian"}),Object(d.jsx)("option",{children:"Bird"}),Object(d.jsx)("option",{children:"Butterfly"}),Object(d.jsx)("option",{children:"Fish"}),Object(d.jsx)("option",{children:"Insect"}),Object(d.jsx)("option",{children:"Mammal"}),Object(d.jsx)("option",{children:"Plant"}),Object(d.jsx)("option",{children:"Reptile"}),Object(d.jsx)("option",{children:"Other"})]}),Object(d.jsx)("label",{htmlFor:"sort-date",children:"Sort by Date Seen: "}),Object(d.jsxs)("select",{id:"sort-date",value:p,onChange:function(e){return x(e.target.value)},children:[Object(d.jsx)("option",{children:"--"}),Object(d.jsx)("option",{children:"Most Recent"}),Object(d.jsx)("option",{children:"Oldest"})]})]}),Object(d.jsx)("div",{className:"share-profile",children:!1===t.public_profile?Object(d.jsx)("button",{onClick:S,children:"Make my profile public!"}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("button",{value:"https://life-lister.herokuapp.com/lifelist/".concat(t.username),onClick:function(e){var t=document.createElement("input");document.body.appendChild(t),t.value=e.target.value,t.select(),document.execCommand("copy"),document.body.removeChild(t),v("Link Copied!")},children:f?Object(d.jsx)("span",{id:"copied-text",children:f}):Object(d.jsx)(d.Fragment,{children:"Share my life list!"})}),Object(d.jsx)("button",{onClick:S,children:"Make my profile private"})]})})]}),Object(d.jsx)("div",{className:"record-list",children:y})]})};var P=function(e){var t=e.user,c=e.onPatchUser,a=Object(n.useState)([]),r=Object(i.a)(a,2),s=r[0],o=r[1];function l(e){o([].concat(Object(k.a)(s),[e]))}function j(e){var t=s.map((function(t){return t.id===e.id?e:t}));o(t)}function b(e){var t=s.filter((function(t){return t.id!==e}));o(t)}return Object(n.useEffect)((function(){fetch("/api/records").then((function(e){e.ok&&e.json().then((function(e){var c=e.filter((function(e){return e.user.id===t.id}));o(c)}))}))}),[]),Object(d.jsx)(d.Fragment,{children:function(){if(t)return Object(d.jsxs)("div",{className:"profile",children:[Object(d.jsx)(L,{addRecord:l}),Object(d.jsx)(T,{user:t,onPatchUser:c,records:s,onPatchRecord:j,onDeleteRecord:b})]})}()})};var w=function(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(!0),j=Object(i.a)(r,2),b=j[0],h=j[1],u=Object(n.useState)("--"),O=Object(i.a)(u,2),p=O[0],x=O[1],m=Object(n.useState)("--"),g=Object(i.a)(m,2),f=g[0],v=g[1],y=Object(o.h)().username;function S(e){var t;switch(e){case"Amphibian":t="pink-category";break;case"Bird":t="blue-category";break;case"Butterfly":t="purple-category";break;case"Fish":t="yellow-category";break;case"Insect":t="orange-category";break;case"Mammal":t="gray-category";break;case"Plant":t="green-category";break;case"Reptile":t="indigo-category";break;case"Other":t="red-category"}return t}return Object(n.useEffect)((function(){fetch("/users/".concat(y)).then((function(e){return e.json()})).then((function(e){console.log(e),!0===e.public_profile&&a(e),h(!1)})).catch((function(e){return console.log(e)}))}),[]),Object(d.jsx)(d.Fragment,{children:b?Object(d.jsx)("img",{id:"loading",src:l,alt:"loading"}):c?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("h1",{children:[c.username,"'s Life List"]}),Object(d.jsxs)("div",{className:"filter",children:[Object(d.jsx)("label",{htmlFor:"filter-category",children:"Filter by Category: "}),Object(d.jsxs)("select",{id:"filter-category",value:p,onChange:function(e){return x(e.target.value)},children:[Object(d.jsx)("option",{children:"--"}),Object(d.jsx)("option",{children:"Bird"}),Object(d.jsx)("option",{children:"Butterfly"}),Object(d.jsx)("option",{children:"Fish"}),Object(d.jsx)("option",{children:"Insect"}),Object(d.jsx)("option",{children:"Mammal"}),Object(d.jsx)("option",{children:"Plant"}),Object(d.jsx)("option",{children:"Reptile"}),Object(d.jsx)("option",{children:"Other"})]}),Object(d.jsx)("label",{htmlFor:"sort-date",children:"Sort by Date Seen: "}),Object(d.jsxs)("select",{id:"sort-date",value:f,onChange:function(e){return v(e.target.value)},children:[Object(d.jsx)("option",{children:"--"}),Object(d.jsx)("option",{children:"Most Recent"}),Object(d.jsx)("option",{children:"Oldest"})]})]}),Object(d.jsx)("div",{className:"shared-lifelist",children:c.records.filter((function(e){return"--"!==p?e.category===p:e})).sort((function(e,t){return"Most Recent"===f?t.date_seen.localeCompare(e.date_seen):"Oldest"===f?e.date_seen.localeCompare(t.date_seen):c.records})).map((function(e){return Object(d.jsxs)("div",{className:"record-card",children:[Object(d.jsx)("img",{src:e.taxon.image,alt:e.taxon.common_name,style:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"}}),Object(d.jsxs)("section",{children:[Object(d.jsxs)("div",{className:"".concat(S(e.category)," record-card-taxon"),children:[Object(d.jsx)("span",{children:e.taxon.common_name}),Object(d.jsxs)("span",{children:["(",Object(d.jsx)("i",{children:e.taxon.species}),")"]})]}),Object(d.jsxs)("div",{className:"record-card-info",children:[Object(d.jsxs)("span",{children:["First seen: ",e.date_seen]}),e.notes?Object(d.jsx)("span",{children:e.notes}):Object(d.jsx)("br",{})]})]})]})}))})]}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h1",{children:"Oops, you've tried seeing a Life List that is marked as private!"}),Object(d.jsxs)("h2",{children:["If you tried accessing your life list, you'll need to ",Object(d.jsx)(s.b,{to:"/login",children:"log in"})," and visit your profile."]}),Object(d.jsx)("h2",{children:"If you want to share your life list, please ensure you have marked it as public after logging in."})]})})};var E=function(){return Object(d.jsx)("footer",{children:"Website created by Megan McCarty"})};var _=function(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(!0),s=Object(i.a)(r,2),j=s[0],h=s[1];function u(e){a(e)}return Object(n.useEffect)((function(){fetch("/profile").then((function(e){e.ok?e.json().then((function(e){a(e),h(!1)})):h(!1)}))}),[]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(b,{user:c,onLogout:function(){a(null)}}),Object(d.jsx)("main",{role:"main",children:Object(d.jsxs)(o.d,{children:[Object(d.jsx)(o.b,{exact:!0,path:"/",children:Object(d.jsx)(C,{})}),Object(d.jsx)(o.b,{exact:!0,path:"/login",children:j?Object(d.jsx)("img",{id:"loading",src:l,alt:"loading"}):c?Object(d.jsx)(o.a,{to:"/profile"}):Object(d.jsx)(N,{onLogin:u})}),Object(d.jsx)(o.b,{exact:!0,path:"/signup",children:j?Object(d.jsx)("img",{id:"loading",src:l,alt:"loading"}):c?Object(d.jsx)(o.a,{to:"/profile"}):Object(d.jsx)(F,{onLogin:u})}),Object(d.jsx)(o.b,{exact:!0,path:"/profile",children:c?Object(d.jsx)(P,{user:c,onPatchUser:function(e){a(e)}}):Object(d.jsx)(o.a,{to:"/login"})}),Object(d.jsx)(o.b,{exact:!0,path:"/lifelist/:username",children:Object(d.jsx)(w,{})})]})}),Object(d.jsx)(E,{})]})},B=(c(31),function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,33)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),r(e),s(e)}))});r.a.render(Object(d.jsx)(s.a,{children:Object(d.jsx)(_,{})}),document.getElementById("root")),B()}},[[32,1,2]]]);
//# sourceMappingURL=main.c5812452.chunk.js.map